!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/collections"),require("@angular/platform-browser"),require("@angular/cdk/a11y"),require("@angular/cdk/drag-drop"),require("@angular/cdk/portal"),require("@angular/cdk/scrolling"),require("@angular/cdk/stepper"),require("@angular/cdk/table"),require("@angular/cdk/tree"),require("@angular/core"),require("@angular/material"),require("@angular/platform-browser/animations")):"function"==typeof define&&define.amd?define("listing-angular7",["exports","@angular/cdk/collections","@angular/platform-browser","@angular/cdk/a11y","@angular/cdk/drag-drop","@angular/cdk/portal","@angular/cdk/scrolling","@angular/cdk/stepper","@angular/cdk/table","@angular/cdk/tree","@angular/core","@angular/material","@angular/platform-browser/animations"],t):t(e["listing-angular7"]={},e.ng.cdk.collections,e.ng.platformBrowser,e.ng.cdk.a11y,e.ng.cdk["drag-drop"],e.ng.cdk.portal,e.ng.cdk.scrolling,e.ng.cdk.stepper,e.ng.cdk.table,e.ng.cdk.tree,e.ng.core,e.ng.material,e.ng.platformBrowser.animations)}(this,function(exports,collections,platformBrowser,a11y,dragDrop,portal,scrolling,stepper,table,tree,i0,material,animations){"use strict";var ListingService=function(){function e(){}return e.decorators=[{type:i0.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=i0.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),ListingComponent=function(){function ListingComponent(){this.columns=[],this.displayedColumns=[],this.datacolumns=[],this.displayedColumnsheader=[],this.dataSource=new material.MatTableDataSource}return Object.defineProperty(ListingComponent.prototype,"datasource",{set:function(e){this.datasourceval=e,console.log("this.datasourceval"),console.log(this.datasourceval)},enumerable:!0,configurable:!0}),Object.defineProperty(ListingComponent.prototype,"skip",{set:function(e){this.skipval=e,console.log("this.skipval"),console.log(this.skipval)},enumerable:!0,configurable:!0}),Object.defineProperty(ListingComponent.prototype,"modify_header_array",{set:function(e){this.modify_header_arrayval=e,console.log("this.modify_header_arrayval"),console.log(this.modify_header_arrayval)},enumerable:!0,configurable:!0}),ListingComponent.prototype.ngOnInit=function(){this.x=this.datasourceval;var x=this.x,temp=[],keys=x[0];temp=Object.keys(keys);for(var coldef_list=[],header_list=[],i=0;i<temp.length;i++)coldef_list.push(temp[i].replace(/\s/g,"_")),header_list.push(temp[i]);console.log("coldef_list",coldef_list),console.log("header_list",header_list);for(var _loop_1=function(i){var ff="row."+coldef_list[i];for(var b in tt={columnDef:""+coldef_list[i],header:""+header_list[i].replace(/_/g," "),cell:function(row){return eval(ff)},objlength:header_list.length},console.log(tt.columnDef),this_1.modify_header_arrayval)b==tt.header&&(tt.header=this_1.modify_header_arrayval[b]);-1==this_1.skipval.indexOf(tt.columnDef)&&this_1.columns.push(tt)},this_1=this,tt,i=0;i<coldef_list.length;i++)_loop_1(i);var displayedcols=this.columns.map(function(e){return e.columnDef});displayedcols.push("Actions"),this.displayedColumns=displayedcols,this.displayedColumns.unshift("select");for(var data_list=[],i=0;i<this.x.length;i++)data_list.push(this.createData(x[i]));this.dataSource=new material.MatTableDataSource(data_list),this.selection=new collections.SelectionModel(!0,[]),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},ListingComponent.prototype.isAllSelected=function(){return this.selection.selected.length===this.dataSource.data.length},ListingComponent.prototype.masterToggle=function(){var t=this;this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(function(e){return t.selection.select(e)})},ListingComponent.prototype.checkboxLabel=function(e){return e?(this.selection.isSelected(e)?"deselect":"select")+" row "+(e.position+1):(this.isAllSelected()?"select":"deselect")+" all"},ListingComponent.prototype.createData=function(t){var a={};return Object.keys(t).forEach(function(e){a[e.replace(/\s/g,"_")]=t[e]}),a},ListingComponent.prototype.applyFilter=function(e){this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()},ListingComponent.prototype.styleCell=function(e,t){return{}},ListingComponent.decorators=[{type:i0.Component,args:[{selector:"lib-listing",template:'<div class="container">\n\n\n  <mat-card>\n\n    <mat-form-field>\n      <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">\n    </mat-form-field>\n\n\n\n    <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">\n\n      <ng-container matColumnDef="select">\n        <th mat-header-cell *matHeaderCellDef>\n          <mat-checkbox (change)="$event ? masterToggle() : null"\n                        [checked]="selection.hasValue() && isAllSelected()"\n                        [indeterminate]="selection.hasValue() && !isAllSelected()">\n          </mat-checkbox>\n        </th>\n        <td mat-cell *matCellDef="let row">\n          <mat-checkbox (click)="$event.stopPropagation()"\n                        (change)="$event ? selection.toggle(row) : null"\n                        [checked]="selection.isSelected(row)">\n          </mat-checkbox>\n        </td>\n      </ng-container>\n\n      <ng-container *ngFor="let column of columns" [matColumnDef]="column.columnDef" >\n        <th mat-header-cell *matHeaderCellDef mat-sort-header class="th-header-center">{{ column.header }}</th>\n        <td mat-cell *matCellDef="let row"  [ngStyle]="styleCell(column,row)" class="td-cell-center">{{ column.cell(row) }}</td>\n      </ng-container>\n\n\n      <ng-container matColumnDef="Actions" >\n        <th mat-header-cell *matHeaderCellDef  class="th-header-center">Actions</th>\n        <td (click)="$event.stopPropagation()" mat-cell  *matCellDef="let row"  class="td-cell-center">\n        <span class="cursor">\n        <i class="material-icons">\n          edit\n        </i>\n        </span>\n\n          \x3c!--For modern browsers--\x3e\n          <span class="cursor" >\n        <i class="material-icons">\n          delete_outline\n        </i>\n        </span>\n\n\n        </td>\n        \x3c!--<td *ngIf="column.objlength==i+1" mat-cell *matCellDef="i">\n          <mat-icon>more_vert</mat-icon>\n        </td>--\x3e\n      </ng-container>\n\n\n      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>\n      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>\n\n    </table>\n\n    <mat-paginator [pageSizeOptions]="[5,10, 20, 50,100]" showFirstLastButtons></mat-paginator>\n\n    <br>\n\n\n\n  </mat-card>\n\n</div>',styles:[".container{background:#fff}body{font-family:Roboto,Arial,sans-serif;margin:0}.basic-container{padding:30px}.version-info{font-size:8pt;float:right}table{width:100%}th.mat-sort-header-sorted{color:#000}"]}]}],ListingComponent.propDecorators={datasource:[{type:i0.Input}],skip:[{type:i0.Input}],modify_header_array:[{type:i0.Input}],sort:[{type:i0.ViewChild,args:[material.MatSort]}],paginator:[{type:i0.ViewChild,args:[material.MatPaginator]}]},ListingComponent}(),DemoMaterialModule=function(){function e(){}return e.decorators=[{type:i0.NgModule,args:[{exports:[a11y.A11yModule,stepper.CdkStepperModule,table.CdkTableModule,tree.CdkTreeModule,dragDrop.DragDropModule,material.MatAutocompleteModule,material.MatBadgeModule,material.MatBottomSheetModule,material.MatButtonModule,material.MatButtonToggleModule,material.MatCardModule,material.MatCheckboxModule,material.MatChipsModule,material.MatStepperModule,material.MatDatepickerModule,material.MatDialogModule,material.MatDividerModule,material.MatExpansionModule,material.MatGridListModule,material.MatIconModule,material.MatInputModule,material.MatListModule,material.MatMenuModule,material.MatNativeDateModule,material.MatPaginatorModule,material.MatProgressBarModule,material.MatProgressSpinnerModule,material.MatRadioModule,material.MatRippleModule,material.MatSelectModule,material.MatSidenavModule,material.MatSliderModule,material.MatSlideToggleModule,material.MatSnackBarModule,material.MatSortModule,material.MatTableModule,material.MatTabsModule,material.MatToolbarModule,material.MatTooltipModule,material.MatTreeModule,portal.PortalModule,scrolling.ScrollingModule]}]}],e}(),ListingModule=function(){function e(){}return e.decorators=[{type:i0.NgModule,args:[{declarations:[ListingComponent],imports:[platformBrowser.BrowserModule,animations.BrowserAnimationsModule,DemoMaterialModule],exports:[ListingComponent]}]}],e}();exports.ListingService=ListingService,exports.ListingComponent=ListingComponent,exports.ListingModule=ListingModule,exports.Éµa=DemoMaterialModule,Object.defineProperty(exports,"__esModule",{value:!0})});
//# sourceMappingURL=listing-angular7.umd.min.js.map